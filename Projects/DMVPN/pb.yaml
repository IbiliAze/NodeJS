name: "AWS Playbook"
hosts: "r1"
tasks:
  - name: "Commands"
    ios_command:
      commands:
        - "configure terminal"
        - "interface tunnel 100"
        - "ip address 10.1.1.1 255.255.255.0"
        - "tunnel path-mtu discovery"
        - "interface tunnel 100"
        - "ip address 10.1.1.1 255.255.255.0"
        - "tunnel path-mtu discovery"
        - "interface tunnel 100"
        - "ip address 10.1.1.1 255.255.255.0"
        - "tunnel path-mtu discovery"
    register: "output"
  - name: "make sure a directory exists"
    file:
      path: "outputs"
      state: "directory"
    run_once: true
    delegate_to: "localhost"
